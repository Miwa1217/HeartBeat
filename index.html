<!doctype html>
<html>  
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>HeartBeat_women</title> 
  </head>
  <body>
    <button id="start">start</button>

    <script type="text/javascript">
      window.AudioContext = window.AudioContext || window.webkitAudioContext;
      var context = new AudioContext();
      var soundBuffer = null;

      start = document.getElementById('start');
      start.addEventListener('click',clickHandler);

      var request = new XMLHttpRequest();
      request.open('GET', './sound/heart.mp3', true);
      request.responseType = 'arraybuffer';

      // Decode asynchronously
      request.onload = function() {
        context.decodeAudioData(request.response, function(buffer) {
          soundBuffer = buffer;
        }, onError);
      }
      request.send();
      
      function playSound(buffer) {
        var source = context.createBufferSource();
        source.buffer = buffer;
        source.connect(context.destination);
        source.start(0);
      }

      function clickHandler(e) {
          playSound(soundBuffer);
      }
   
    </script>  
  </body>  
</html>  